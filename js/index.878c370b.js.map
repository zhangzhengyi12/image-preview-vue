{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./examples/App.vue?8ec3","webpack:///./packages/image-preview/index.vue?3bb2","webpack:///./examples/App.vue?e2f0","webpack:///examples/App.vue","webpack:///./examples/App.vue?517c","webpack:///./examples/App.vue?4fb9","webpack:///./packages/image-preview/index.vue?bfbe","webpack:///./packages/image-preview/WheelScaleHandler.js","webpack:///./packages/image-preview/imagePreloader.js","webpack:///./packages/image-preview/downloadImage.js","webpack:///./packages/image-preview/matrix.js","webpack:///packages/image-preview/index.vue","webpack:///./packages/image-preview/index.vue?5936","webpack:///./packages/image-preview/index.vue?eea2","webpack:///./packages/image-preview/index.js","webpack:///./packages/index.js","webpack:///./examples/main.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","attrs","directives","rawName","expression","domProps","on","$event","target","composing","config","_v","staticClass","handleTapImage","staticRenderFns","methods","JSON","parse","alert","onClose","console","log","component","style","facade","core","_e","class","imageStateClassName","currentImageSrc","handleImageLoaded","handleImageDragStart","handleImageDragEnd","handleImageDragMove","feature","_s","currentIndex","images","handleTapClose","handleTapPrev","handleTapNext","handleTapRotateLeft","handleTapRotateRight","handleTapfullscreen","fullscreenMode","handleTapEnlarge","handleTapShrink","isEnableHorizontalMirror","handleTapHorizontalToggle","handleTapDownload","WheelScaleHandler","deltaRatio","changeCallback","wheelScrollHandlerBindThis","e","wheelScrollHanlder","initListener","addEventListener","removeEventListener","deltaY","base","delta","ImagePreloader","imageList","initIndex","index","imageCacheList","Array","firstImageLoaded","setTimeout","onSomeImageUploaded","triggerPreLoading","curIndex","tryPreloadingByIndex","getPrevIndex","getNextIndex","hasCache","image","Image","src","downLoadImage","imageUrl","getImageFileName","fetch","then","res","blob","URL","createObjectURL","url","a","document","createElement","href","download","body","appendChild","click","removeChild","error","catch","rotateMatrixGenrator","axis","deg","arc","Math","PI","cosArc","cos","sinArc","sin","genBaseMatrix","covertMatrixToCSSMatrix","martrix","map","v","join","vectorMultiplication","b","len","getColumn","matrix","columnIndex","row","matrixMultiplication","outerLen","innerLen","col","ROTATE","SCALE","DRAG","visible","cacheBlurImageUrl","imageRotate","scaleRatio","actionState","ACTIONSTATE","drag","onDrag","lastPageX","lastPageY","transformX","transformY","isEnableBlurBackground","maskBackgroundColor","zIndex","isEnableLoopToggle","isEnableImagePageIndicator","wheelScrollDeltaRatio","shirnkAndEnlargeDelta","containScale","isEnableDownloadImage","computed","abs","hasPrevImage","hasNextImage","mirrorStyle","imageStyle","transformStyle","fullscreenStyle","mounted","initWithOptions","options","shirnkAndEnlargeDeltaRatio","isEnableKeyboardShortcuts","bindKeyboardShortcuts","resetActionStyle","onKeyboardKeyDown","unbindKeyboardShortcuts","code","toggleNext","event","preventDefault","togglePrev","ctrlKey","metaKey","updateIndex","close","setScaleRatio","ratio","$nextTick","handleWheelScrollChange","ratioDelta","downloadImage","button","pageX","pageY","deltaX","noop","defaultOptions","initViewMode","String","Date","now","ImagePreviewCtor","Vue","extend","ImagePreview","imagePreivew","instance","$mount","$el","$on","$instance","imagePreview","install","$imagePreview","productionTip","use","render","h","App"],"mappings":"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","file":"js/index.878c370b.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"index\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&id=44a43c3e&lang=scss&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=04a34848&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.config),expression:\"config\"}],attrs:{\"rows\":\"20\"},domProps:{\"value\":(_vm.config)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.config=$event.target.value}}}),_vm._v(\" \"),_c('div',{staticClass:\"desc\"},[_vm._v(\"尝试修改配置并点击下方按钮\")]),_c('div',{staticClass:\"show\",on:{\"click\":_vm.handleTapImage}},[_vm._v(\"点我查看大图\")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"app\">\n    <textarea rows=\"20\" v-model=\"config\" />\n    <div class=\"desc\">尝试修改配置并点击下方按钮</div>\n    <div class=\"show\" @click=\"handleTapImage\">点我查看大图</div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'App',\n  data() {\n    return {\n      config: `\n{\n  \"initIndex\": 0,\n  \"images\": [\n    \"https://yinodimage.oss-cn-hangzhou.aliyuncs.com/20200728221752.png\"\n  ],\n  \"isEnableBlurBackground\": false,\n  \"isEnableLoopToggle\": true,\n  \"initViewMode\": \"contain\",\n  \"containScale\": 1,\n  \"shirnkAndEnlargeDeltaRatio\": 0.2,\n  \"wheelScrollDeltaRatio\": 0.2,\n  \"isEnableImagePageIndicator\": true,\n  \"maskBackgroundColor\": \"rgba(0,0,0,0.6)\",\n  \"zIndex\":4000,\n  \"isEnableDownloadImage\": true\n}\n      `\n    }\n  },\n  methods: {\n    handleTapImage() {\n      let config = {}\n      try {\n        config = JSON.parse(this.config)\n      } catch (e) {\n        alert('JSON解析失败')\n      }\n      config.onClose = () => {\n        console.log('preview has been closed')\n      }\n      const preview = this.$imagePreview(config)\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin-top: 60px;\n}\n\n.show {\n  font-size: 30px;\n  color: #444;\n  margin-top: 40px;\n  cursor: pointer;\n}\n\ntextarea {\n  width: 80vw;\n  font-size: 20px;\n}\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=44a43c3e&scoped=true&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&id=44a43c3e&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"44a43c3e\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"preview-anima\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.visible),expression:\"visible\"}],staticClass:\"image-preview\",style:((\"background-color:\" + (_vm.config.facade.maskBackgroundColor) + \";z-index:\" + (_vm.config.facade.zIndex)))},[(_vm.config.facade.isEnableBlurBackground)?_c('div',{staticClass:\"image-preview__blur-layer\",style:((\"background-image:url(\" + (_vm.core.cacheBlurImageUrl) + \")\"))}):_vm._e(),_c('img',{class:['image-preview__image',_vm.imageStateClassName],style:(_vm.imageStyle),attrs:{\"src\":_vm.currentImageSrc,\"draggable\":\"false\",\"alt\":\"\"},on:{\"load\":_vm.handleImageLoaded,\"mousedown\":_vm.handleImageDragStart,\"mouseup\":_vm.handleImageDragEnd,\"mousemove\":_vm.handleImageDragMove}}),_c('div',{staticClass:\"image-preview__action-layer\"},[(_vm.config.feature.isEnableImagePageIndicator)?_c('div',{staticClass:\"image-preview__page-info\"},[_vm._v(_vm._s(_vm.currentIndex + 1)+\"/\"+_vm._s(_vm.core.images.length))]):_vm._e(),_c('div',{staticClass:\"image-preview__close image-preview__cir-action\",on:{\"click\":_vm.handleTapClose}},[_c('i',{staticClass:\"zip zipclose\"})]),(_vm.hasPrevImage)?_c('div',{staticClass:\"image-preview__prev image-preview__cir-action\",on:{\"click\":_vm.handleTapPrev}},[_c('i',{staticClass:\"zip zipprev\"})]):_vm._e(),(_vm.hasNextImage)?_c('div',{staticClass:\"image-preview__next image-preview__cir-action\",on:{\"click\":_vm.handleTapNext}},[_c('i',{staticClass:\"zip zipnext\"})]):_vm._e(),_c('div',{staticClass:\"image-preview__action-bar\"},[_c('div',{staticClass:\"image-preview__action-rotate-left action-btn image-preview__cir-action\",on:{\"click\":_vm.handleTapRotateLeft}},[_c('i',{staticClass:\"zip zipnishizhenxuanzhuan\"})]),_c('div',{staticClass:\"image-preview__action-rotate-right action-btn image-preview__cir-action\",on:{\"click\":_vm.handleTapRotateRight}},[_c('i',{staticClass:\"zip zipshunshizhenxuanzhuan\"})]),_c('div',{staticClass:\"image-preview__action-full-screen action-btn image-preview__cir-action\",on:{\"click\":_vm.handleTapfullscreen}},[_c('i',{class:(\"zip \" + (_vm.core.fullscreenMode ? 'zipadapt' : 'zipfull_screen'))})]),_c('div',{staticClass:\"image-preview__action-scale-big action-btn image-preview__cir-action\",on:{\"click\":_vm.handleTapEnlarge}},[_c('i',{staticClass:\"zip zipfangda\"})]),_c('div',{staticClass:\"image-preview__full-scale-small action-btn image-preview__cir-action\",on:{\"click\":_vm.handleTapShrink}},[_c('i',{staticClass:\"zip zipsuoxiao\"})]),_c('div',{class:['image-preview__horizontal-toggle','action-btn','image-preview__cir-action',{\n            'is-active':_vm.core.isEnableHorizontalMirror\n          }],on:{\"click\":_vm.handleTapHorizontalToggle}},[_c('i',{staticClass:\"zip zipzuoyoufanzhuan_huaban1\"})]),(_vm.config.feature.isEnableDownloadImage)?_c('div',{staticClass:\"image-preview__full-scale-small action-btn image-preview__cir-action\",on:{\"click\":_vm.handleTapDownload}},[_c('i',{staticClass:\"zip zipdown\"})]):_vm._e()])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export default class WheelScaleHandler {\n  constructor(deltaRatio, changeCallback) {\n    this.deltaRatio = deltaRatio\n    this.changeCallback = changeCallback\n\n    // 防抖 延迟对操作有一定影响，所以暂时关闭\n    // this.wheelScrollHanlder = trottle(this.wheelScrollHanlder, 20)\n\n    // 绑定this\n    this.wheelScrollHandlerBindThis = e => {\n      this.wheelScrollHanlder(e)\n    }\n\n    this.initListener()\n  }\n\n  initListener() {\n    window.addEventListener('wheel', this.wheelScrollHandlerBindThis)\n  }\n\n  removeListener() {\n    window.removeEventListener('wheel', this.wheelScrollHandlerBindThis)\n  }\n\n  wheelScrollHanlder({ deltaY }) {\n    const base = deltaY >= 0 ? 1 : -1\n    const delta = this.deltaRatio * 0.1\n    this.changeCallback(base * delta)\n  }\n}\n","/**\n * @description 图片预加载，优化体验\n *\n * @class ImagePreloader\n */\nexport default class ImagePreloader {\n  constructor(imageList, initIndex) {\n    this.index = initIndex\n    this.imageList = imageList\n    this.imageCacheList = Array(imageList.length)\n    this.firstImageLoaded = false\n\n    // 保底 3秒后无论如何都触发预加载\n    setTimeout(() => {\n      this.onSomeImageUploaded()\n    }, 3000)\n  }\n\n  // 外部触发 首张图片加载完成之后 触发预加载\n  onSomeImageUploaded() {\n    if (!this.firstImageLoaded) {\n      this.firstImageLoaded = true\n      this.triggerPreLoading()\n    }\n  }\n\n  updateIndex(index) {\n    this.index = index\n    this.triggerPreLoading()\n  }\n\n  getPrevIndex(curIndex) {\n    if (curIndex === 0) {\n      return this.imageList.length - 1\n    } else {\n      return curIndex - 1\n    }\n  }\n\n  getNextIndex(curIndex) {\n    if (curIndex === this.imageList.length - 1) {\n      return 0\n    } else {\n      return curIndex + 1\n    }\n  }\n\n  triggerPreLoading() {\n    this.tryPreloadingByIndex(this.getPrevIndex(this.index))\n    this.tryPreloadingByIndex(this.getNextIndex(this.index))\n  }\n\n  tryPreloadingByIndex(index) {\n    let hasCache = this.imageCacheList[index]\n\n    if (!hasCache) {\n      let image = new Image()\n      image.src = this.imageList[index]\n      this.imageCacheList[index] = image\n    }\n  }\n}\n","const downLoadImage = (imageUrl, getImageFileName) => {\n  console.log(imageUrl)\n  fetch(imageUrl)\n    .then(res => {\n      return res.blob()\n    })\n    .then(blob => {\n      return URL.createObjectURL(blob)\n    })\n    .then(url => {\n      const a = document.createElement('a')\n      a.href = url\n      if (typeof getImageFileName !== 'function') {\n        console.error('getImageFileName必须为函数，请检查参数')\n        return\n      }\n      a.download = getImageFileName(url)\n      document.body.appendChild(a)\n      a.click()\n      document.body.removeChild(a)\n    })\n    .catch(e => console.error(e))\n}\n\nexport default downLoadImage\n","/**\n *\n * @description 生成旋转矩阵 沿目标轴旋转\n * @export\n * @param {string} 枚举值 x/y/z 目标旋转轴\n * @param {*} deg // 目标旋转角度 非弧度\n */\nexport function rotateMatrixGenrator(axis, deg) {\n  // 转换成弧度\n  let arc = deg * (Math.PI / 180)\n  let cosArc = Math.cos(arc)\n  let sinArc = Math.sin(arc)\n\n  if (axis === 'x') {\n    return [\n      [1, 0, 0, 0],\n      [0, cosArc, -cosArc, 0],\n      [0, sinArc, cosArc, 0],\n      [0, 0, 0, 1]\n    ]\n  } else if (axis === 'y') {\n    return [\n      [cosArc, 0, sinArc, 0],\n      [0, 1, 0, 0],\n      [-sinArc, 0, cosArc, 0],\n      [0, 0, 0, 1]\n    ]\n  } else {\n    return [\n      [cosArc, -sinArc, 0, 0],\n      [sinArc, cosArc, 0, 0],\n      [0, 0, 1, 0],\n      [0, 0, 0, 1]\n    ]\n  }\n}\n\n/**\n *\n * @description 生成一个对角线为1的原始矩阵\n * @export\n */\nexport function genBaseMatrix(){\nreturn [[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]]\n}\n\n/**\n *\n * @description 把二维矩阵转换成CSS 3d矩阵\n * @param {Array} martrix 二维矩阵\n * @returns\n */\nexport function covertMatrixToCSSMatrix(martrix) {\n  return `matrix3d(${martrix.map(v => v.join(',')).join(',')})`\n}\n\n// 向量点乘\nfunction vectorMultiplication(a, b) {\n  let result = 0\n  for (let i = 0, len = a.length; i < len; i++) {\n    result += a[i] * b[i]\n  }\n  return result\n}\n// 取矩阵的列\nfunction getColumn(matrix, columnIndex) {\n  return matrix.map(row => row[columnIndex])\n}\n\n/**\n *\n *\n * @description 矩阵乘法\n * @param {[[number]]} a 二维矩阵\n * @param {[[number]]} b 二维矩阵\n * @returns\n */\nexport function matrixMultiplication(a, b) {\n  let result = []\n  for (let i = 0, outerLen = a.length; i < outerLen; i++) {\n    result[i] = []\n    for (let j = 0, innerLen = b[0].length; j < innerLen; j++) {\n      // 取列\n      let col = getColumn(b, j)\n      let row = a[i]\n      result[i].push(vectorMultiplication(row, col))\n    }\n  }\n  return result\n}\n","<template>\n  <transition name=\"preview-anima\">\n    <div\n      class=\"image-preview\"\n      :style=\"`background-color:${config.facade.maskBackgroundColor};z-index:${config.facade.zIndex}`\"\n      v-show=\"visible\"\n    >\n      <!-- 高斯模糊层 -->\n      <div\n        class=\"image-preview__blur-layer\"\n        :style=\"`background-image:url(${core.cacheBlurImageUrl})`\"\n        v-if=\"config.facade.isEnableBlurBackground\"\n      ></div>\n\n      <img\n        :src=\"currentImageSrc\"\n        @load=\"handleImageLoaded\"\n        :style=\"imageStyle\"\n        :class=\"['image-preview__image',imageStateClassName]\"\n        @mousedown=\"handleImageDragStart\"\n        @mouseup=\"handleImageDragEnd\"\n        @mousemove=\"handleImageDragMove\"\n        draggable=\"false\"\n        alt\n      />\n\n      <!-- 操作层 -->\n      <div class=\"image-preview__action-layer\">\n        <!-- 图片分页指示器 -->\n        <div\n          v-if=\"config.feature.isEnableImagePageIndicator\"\n          class=\"image-preview__page-info\"\n        >{{currentIndex + 1}}/{{core.images.length}}</div>\n\n        <!-- 关闭按钮 -->\n        <div class=\"image-preview__close image-preview__cir-action\" @click=\"handleTapClose\">\n          <i class=\"zip zipclose\"></i>\n        </div>\n\n        <!-- 图片切换 -->\n        <div\n          v-if=\"hasPrevImage\"\n          class=\"image-preview__prev image-preview__cir-action\"\n          @click=\"handleTapPrev\"\n        >\n          <i class=\"zip zipprev\"></i>\n        </div>\n        <div\n          v-if=\"hasNextImage\"\n          class=\"image-preview__next image-preview__cir-action\"\n          @click=\"handleTapNext\"\n        >\n          <i class=\"zip zipnext\"></i>\n        </div>\n\n        <!-- 下方操作栏 -->\n        <div class=\"image-preview__action-bar\">\n          <!-- 旋转 -->\n          <div\n            class=\"image-preview__action-rotate-left action-btn image-preview__cir-action\"\n            @click=\"handleTapRotateLeft\"\n          >\n            <i class=\"zip zipnishizhenxuanzhuan\"></i>\n          </div>\n          <div\n            class=\"image-preview__action-rotate-right action-btn image-preview__cir-action\"\n            @click=\"handleTapRotateRight\"\n          >\n            <i class=\"zip zipshunshizhenxuanzhuan\"></i>\n          </div>\n          <!-- 填充模式 -->\n          <div\n            class=\"image-preview__action-full-screen action-btn image-preview__cir-action\"\n            @click=\"handleTapfullscreen\"\n          >\n            <i :class=\"`zip ${core.fullscreenMode ? 'zipadapt' : 'zipfull_screen'}`\"></i>\n          </div>\n          <!-- 放大 -->\n          <div\n            class=\"image-preview__action-scale-big action-btn image-preview__cir-action\"\n            @click=\"handleTapEnlarge\"\n          >\n            <i class=\"zip zipfangda\"></i>\n          </div>\n          <!-- 缩小 -->\n          <div\n            class=\"image-preview__full-scale-small action-btn image-preview__cir-action\"\n            @click=\"handleTapShrink\"\n          >\n            <i class=\"zip zipsuoxiao\"></i>\n          </div>\n          <!-- 水平镜像切换 -->\n          <div\n            :class=\"['image-preview__horizontal-toggle','action-btn','image-preview__cir-action',{\n              'is-active':core.isEnableHorizontalMirror\n            }]\"\n            @click=\"handleTapHorizontalToggle\"\n          >\n            <i class=\"zip zipzuoyoufanzhuan_huaban1\"></i>\n          </div>\n          <!--  -->\n          <div\n            v-if=\"config.feature.isEnableDownloadImage\"\n            class=\"image-preview__full-scale-small action-btn image-preview__cir-action\"\n            @click=\"handleTapDownload\"\n          >\n            <i class=\"zip zipdown\"></i>\n          </div>\n        </div>\n      </div>\n    </div>\n  </transition>\n</template>\n\n<script>\nimport WheelScaleHanlder from './WheelScaleHandler'\nimport ImagePreloader from './imagePreloader'\nimport downloadImage from './downloadImage'\nimport {\n  covertMatrixToCSSMatrix,\n  rotateMatrixGenrator,\n  genBaseMatrix,\n  matrixMultiplication\n} from './matrix.js'\n\n// 用户操作状态 对应不同动画\nconst ACTIONSTATE = {\n  ROTATE: 1, // 旋转\n  SCALE: 2, // 缩放\n  DRAG: 3 // 拖拽\n}\n\nexport default {\n  name: 'zzy-image-preview',\n  data () {\n    return {\n      visible: false,\n      core: {\n        index: 0,\n        images: [],\n        cacheBlurImageUrl: '',\n        imageRotate: 0,\n        fullscreenMode: false,\n        scaleRatio: 1,\n        actionState: ACTIONSTATE.ROTATE,\n        isEnableHorizontalMirror: false\n      },\n      drag: {\n        onDrag: false,\n        lastPageX: 0,\n        lastPageY: 0,\n        transformX: 0,\n        transformY: 0\n      },\n      config: {\n        facade: {\n          isEnableBlurBackground: false,\n          maskBackgroundColor: 'rgba(0,0,0,.4)',\n          zIndex: 100,\n        },\n        feature: {\n          isEnableLoopToggle: false,\n          isEnableImagePageIndicator: true,\n          wheelScrollDeltaRatio: 1,\n          shirnkAndEnlargeDelta: 0.2,\n          containScale: 1,\n          isEnableDownloadImage: false,\n          getImageFileName: () => { }\n        }\n      }\n    }\n  },\n  computed: {\n    imageStateClassName () {\n      if (this.core.actionState === ACTIONSTATE.ROTATE) {\n        return 'is-rotate'\n      } else if (this.core.actionState === ACTIONSTATE.SCALE) {\n        return 'is-scale'\n      } else {\n        return 'is-drag'\n      }\n    },\n    currentIndex () {\n      if (this.config.feature.isEnableLoopToggle) {\n        return Math.abs(this.core.index) % this.core.images.length\n      } else {\n        return this.core.index\n      }\n    },\n    hasPrevImage () {\n      if (this.config.feature.isEnableLoopToggle) return true\n      return !!this.core.images[this.currentIndex - 1]\n    },\n    hasNextImage () {\n      if (this.config.feature.isEnableLoopToggle) return true\n      return !!this.core.images[this.currentIndex + 1]\n    },\n    currentImageSrc () {\n      return this.core.images[this.currentIndex]\n    },\n    mirrorStyle () {\n      let matrix = genBaseMatrix()\n      // 暂时关闭垂直镜像 本身能够被旋转代替 并且会导致万向节死锁问题\n      if (this.core.isEnableHorizontalMirror) {\n        // 开启水平镜像 Y轴旋转180度\n        matrix = matrixMultiplication(matrix, rotateMatrixGenrator('y', 180))\n      }\n      return covertMatrixToCSSMatrix(matrix)\n    },\n    imageStyle () {\n      const roateStyle = `rotate(${this.core.imageRotate}deg)`\n      const scaleStyle = `scale(${this.core.scaleRatio})`\n      const translateStyle = `translate(${this.drag.transformX}px,${this.drag.transformY}px)`\n      const mirrorStyle = this.mirrorStyle\n      const transformStyle = `transform:${translateStyle} ${roateStyle} ${scaleStyle} ${mirrorStyle};`\n\n      const fullscreenStyle = `object-fit: ${this.core.fullscreenMode ? 'cover' : 'contain;'\n        };`\n\n      return transformStyle + fullscreenStyle\n    }\n  },\n  mounted () {\n    this.visible = true\n  },\n  methods: {\n    initWithOptions (options) {\n      this.WheelScaleHandler = new WheelScaleHanlder(\n        options.wheelScrollDeltaRatio,\n        this.handleWheelScrollChange\n      )\n      this.ImagePreloader = new ImagePreloader(\n        options.images,\n        options.initIndex\n      )\n\n      this.core.index = (() => {\n        if (options.initIndex < 0) {\n          return 0\n        } else if (options.initIndex >= options.images.length) {\n          return options.images.length - 1\n        } else {\n          return options.initIndex\n        }\n      })()\n      this.core.images = options.images\n      this.config.facade.isEnableBlurBackground = options.isEnableBlurBackground\n      this.config.feature.isEnableLoopToggle = options.isEnableLoopToggle\n      this.config.feature.isEnableImagePageIndicator =\n        options.isEnableImagePageIndicator\n      this.config.feature.isEnableDownloadImage = options.isEnableDownloadImage\n      this.config.feature.getImageFileName = options.getImageFileName\n      this.core.fullscreenMode =\n        options.initViewMode === 'contain' ? false : true\n      this.config.feature.shirnkAndEnlargeDeltaRatio =\n        options.shirnkAndEnlargeDeltaRatio\n      this.config.feature.containScale = options.containScale\n      this.config.facade.maskBackgroundColor = options.maskBackgroundColor\n      this.config.facade.zIndex = options.zIndex\n\n      if (options.isEnableKeyboardShortcuts) {\n        this.bindKeyboardShortcuts()\n      }\n\n      this.resetActionStyle()\n    },\n    bindKeyboardShortcuts () {\n      window.addEventListener('keydown', this.onKeyboardKeyDown)\n    },\n    unbindKeyboardShortcuts () {\n      window.removeEventListener('keydown', this.onKeyboardKeyDown)\n    },\n    onKeyboardKeyDown (event) {\n      const { code, ctrlKey, metaKey } = event\n      if (code === 'ArrowRight') {\n        this.toggleNext()\n        event.preventDefault()\n        return\n      }\n      if (code === 'ArrowLeft') {\n        this.togglePrev()\n        event.preventDefault()\n        return\n      }\n      if (code === 'Escape') {\n        this.handleTapClose()\n        event.preventDefault()\n        return\n      }\n      if (code === 'ArrowUp') {\n        this.handleTapEnlarge()\n        event.preventDefault()\n        return\n      }\n      if (code === 'ArrowDown') {\n        this.handleTapShrink()\n        event.preventDefault()\n        return\n      }\n      if (code === 'KeyS' && (ctrlKey || metaKey) && this.config.feature.isEnableDownloadImage) {\n        this.handleTapDownload()\n        event.preventDefault()\n        return\n      }\n    },\n    togglePrev () {\n      this.core.index--\n      this.resetActionStyle()\n      this.ImagePreloader.updateIndex(this.currentIndex)\n    },\n    toggleNext () {\n      this.core.index++\n      this.resetActionStyle()\n      this.ImagePreloader.updateIndex(this.currentIndex)\n    },\n    close () {\n      this.visible = false\n      this.unbindKeyboardShortcuts()\n      setTimeout(() => {\n        this.$emit('close')\n        this.$destroy()\n        this.$el.parentNode.removeChild(this.$el)\n      }, 300)\n    },\n    setScaleRatio (ratio) {\n      if (ratio < 0.1) {\n        this.core.scaleRatio = 0.1\n      } else if (ratio > 5) {\n        this.core.scaleRatio = 5\n      } else {\n        this.core.scaleRatio = ratio\n      }\n    },\n    // 重置清空用户的操作 切换图片 OR 切换显示模式\n    resetActionStyle () {\n      this.core.scaleRatio = 1\n      this.drag.transformX = 0\n      this.drag.transformY = 0\n\n      if (!this.core.fullscreenMode) {\n        // contain mode\n        this.setScaleRatio(this.config.feature.containScale)\n      }\n    },\n    /**\n     * MARK: Handler\n     */\n    handleImageLoaded (e) {\n      this.$nextTick(() => {\n        this.core.cacheBlurImageUrl = this.currentImageSrc\n      })\n      this.ImagePreloader.onSomeImageUploaded()\n    },\n    handleTapClose () {\n      this.close()\n    },\n    handleTapPrev () {\n      this.togglePrev()\n    },\n    handleTapNext () {\n      this.toggleNext()\n    },\n    handleTapRotateLeft () {\n      this.core.actionState = ACTIONSTATE.ROTATE\n      this.core.imageRotate -= 90\n    },\n    handleTapRotateRight () {\n      this.core.actionState = ACTIONSTATE.ROTATE\n      this.core.imageRotate += 90\n    },\n    handleTapfullscreen () {\n      this.core.fullscreenMode = !this.core.fullscreenMode\n      this.resetActionStyle()\n    },\n    handleWheelScrollChange (ratioDelta) {\n      this.core.actionState = ACTIONSTATE.SCALE\n      this.setScaleRatio(this.core.scaleRatio - ratioDelta)\n    },\n    handleTapShrink () {\n      this.core.actionState = ACTIONSTATE.ROTATE\n      this.setScaleRatio(\n        this.core.scaleRatio - this.config.feature.shirnkAndEnlargeDeltaRatio\n      )\n    },\n    handleTapDownload () {\n      downloadImage(this.currentImageSrc, this.config.feature.getImageFileName)\n    },\n    handleTapEnlarge () {\n      this.core.actionState = ACTIONSTATE.ROTATE\n      this.setScaleRatio(\n        this.core.scaleRatio + this.config.feature.shirnkAndEnlargeDeltaRatio\n      )\n    },\n    handleTapHorizontalToggle () {\n      this.core.actionState = ACTIONSTATE.ROTATE\n      this.core.isEnableHorizontalMirror = !this.core.isEnableHorizontalMirror\n    },\n    handleImageDragStart (e) {\n      if (e.button !== 0) return\n      this.drag.onDrag = true\n      this.drag.lastPageX = e.pageX\n      this.drag.lastPageY = e.pageY\n    },\n    handleImageDragMove (e) {\n      if (!this.drag.onDrag) return\n\n      this.core.actionState = ACTIONSTATE.DRAG\n      const deltaX = e.pageX - this.drag.lastPageX\n      const deltaY = e.pageY - this.drag.lastPageY\n\n      this.drag.transformX += deltaX\n      this.drag.transformY += deltaY\n\n      this.drag.lastPageX = e.pageX\n      this.drag.lastPageY = e.pageY\n    },\n    handleImageDragEnd (e) {\n      this.drag.onDrag = false\n      this.core.actionState = ACTIONSTATE.ROTATE\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n// variable\n\n$action-bg-color: rgba(255, 255, 255, 0.4);\n$action-bg-color-hover: rgba(255, 255, 255, 0.7);\n$action-font-color: #333;\n$action-bg-active-color: rgba(255, 255, 255, 0.7);\n$action-font-active-color: #000;\n\n.image-preview {\n  position: fixed;\n  left: 0;\n  top: 0;\n  bottom: 0;\n  right: 0;\n\n  &--blur-mode {\n    background: white;\n  }\n\n  &__blur-layer {\n    position: fixed;\n    z-index: 999;\n    object-fit: fill;\n    top: -120px;\n    left: -120px;\n    right: -120px;\n    bottom: -120px;\n    filter: blur(50px) brightness(1.2);\n    background-color: #fff;\n  }\n\n  &__image {\n    position: relative;\n    z-index: 1000;\n    object-fit: contain;\n    width: 100%;\n    height: 100%;\n    transition: all 0.2s;\n    will-change: transform;\n    cursor: auto;\n\n    &.is-scale {\n      transition: none;\n    }\n    &.is-rotate {\n      transition: all 0.2s;\n    }\n    &.is-drag {\n      transition: none;\n      cursor: move;\n    }\n  }\n\n  &__action-layer {\n    position: relative;\n    z-index: 1001;\n  }\n\n  &__page-info {\n    position: fixed;\n    left: 10px;\n    bottom: 10px;\n    padding: 0 10px;\n    border-radius: 20px;\n\n    background-color: $action-bg-color;\n    color: #333;\n  }\n\n  &__close {\n    position: fixed;\n    right: 20px;\n    top: 20px;\n\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: 40px;\n    height: 40px;\n\n    img {\n      width: 55%;\n      height: 55%;\n    }\n  }\n\n  &__prev {\n    position: fixed;\n    left: 10px;\n    top: 50%;\n    transform: translateY(-50%);\n    img {\n      width: 50%;\n      height: 50%;\n      transform: translateX(-2px);\n    }\n  }\n  &__next {\n    position: fixed;\n    right: 10px;\n    top: 50%;\n    transform: translateY(-50%);\n    img {\n      width: 50%;\n      height: 50%;\n      transform: translateX(2px);\n    }\n  }\n\n  &__action-bar {\n    position: fixed;\n    bottom: 10px;\n    left: 50%;\n    transform: translateX(-50%);\n    display: flex;\n    align-items: center;\n    justify-content: center;\n\n    .action-btn {\n      border-radius: 0px;\n\n      &:first-child {\n        border-radius: 20px 0px 0px 20px;\n      }\n\n      &:last-child {\n        border-radius: 0px 20px 20px 0px;\n      }\n    }\n  }\n}\n\n.image-preview__cir-action {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 40px;\n  height: 40px;\n\n  cursor: pointer;\n  border-radius: 50%;\n  background-color: $action-bg-color;\n  color: $action-font-color;\n  transition: all 0.3s;\n  &:hover {\n    background-color: $action-bg-color-hover;\n  }\n\n  .zip {\n    font-size: 22px;\n  }\n\n  &.is-active {\n    color: $action-font-active-color;\n    background-color: $action-bg-active-color;\n  }\n}\n\n// @Animation\n\n.preview-anima-enter-active,\n.preview-anima-leave-active {\n  transition: all 0.3s;\n}\n.preview-anima-enter,\n.preview-anima-leave-to {\n  opacity: 0;\n  transform: translateY(-30px);\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=04a34848&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=04a34848&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"04a34848\",\n  null\n  \n)\n\nexport default component.exports","import ImagePreview from './index.vue'\nimport './assets/iconfont.css'\nimport Vue from 'vue'\n\nconst noop = () => {}\n\nconst defaultOptions = {\n  initIndex: 0,\n  images: [],\n  isEnableBlurBackground: false,\n  isEnableLoopToggle: true,\n  initViewMode: 'contain', // contain / cover / halfScreen\n  containScale: 1,\n  shirnkAndEnlargeDeltaRatio: 0.2,\n  wheelScrollDeltaRatio: 0.2,\n  isEnableImagePageIndicator: true,\n  maskBackgroundColor: 'rgba(0,0,0,0.4)',\n  onClose: noop,\n  zIndex: 100,\n  isEnableKeyboardShortcuts: true,\n  isEnableDownloadImage: true,\n  getImageFileName: () => {\n    return String(Date.now())\n  }\n}\n\nconst ImagePreviewCtor = Vue.extend(ImagePreview)\n\nexport default function imagePreivew(options = defaultOptions) {\n  let instance = new ImagePreviewCtor()\n  instance.initWithOptions({\n    ...defaultOptions,\n    ...options\n  })\n\n  instance.$mount()\n  document.body.appendChild(instance.$el)\n\n  instance.$on('close', options.onClose)\n\n  return {\n    $instance: instance,\n    close: instance.close\n  }\n}\n","import imagePreview from './image-preview'\n\nimagePreview.install = (Vue) =>{\n  Vue.prototype.$imagePreview = imagePreview\n}\n\nexport default imagePreview","import Vue from 'vue'\nimport App from './App.vue'\nimport imagePreivew from '../packages/index'\n\nVue.config.productionTip = false\n\nVue.use(imagePreivew)\n\nnew Vue({\n  render: h => h(App)\n}).$mount('#app')\n"],"sourceRoot":""}